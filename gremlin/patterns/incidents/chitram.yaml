# Patterns learned from chitram incidents
# Auto-generated by 'gremlin learn'

domain_specific:
  auth:
    keywords:
    - auth
    - login
    - jwt
    - supabase
    - session
    - token
    - navigation
    - nav
    patterns:
    - What if UI component uses different auth verification than API routes?
    - What if auth provider migration leaves web layer using old verification?
    - What if cookie contains token from provider A but verifier expects provider
      B?
    - What if nav bar shows logged-out state despite successful authentication?
    - What if test environment uses different auth provider than production?
  files:
    keywords:
    - image
    - upload
    - file
    - thumbnail
    - resize
    - orientation
    - landscape
    - portrait
    patterns:
    - What if landscape image is rotated to portrait due to container constraints?
    - What if image EXIF orientation differs from display orientation?
    - What if CSS layout rotates image instead of scaling when it exceeds bounds?
    - What if thumbnail generation ignores original image orientation?
    - What if user uploaded duplicate filename and got wrong image served?
  storage:
    keywords:
    - minio
    - s3
    - storage
    - bucket
    - object
    patterns:
    - What if storage quota exceeded during upload but error not surfaced?
    - What if presigned URL generated for object that doesn't exist?
    - What if storage deletion succeeds but database record persists?
